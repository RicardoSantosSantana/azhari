<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="pt-br">
    <title>Orçamento</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <link href="http://fonts.cdnfonts.com/css/broken-cyborg" rel="stylesheet">
    <link href="http://fonts.cdnfonts.com/css/templo-kolegio" rel="stylesheet">
    <link rel="stylesheet" href="./src/assets/css/style.css">
</head>

<body>
    <div class="container">
        <div class="row">             
            <div class="col-md-12" id="produto">
                <h1>PRODUTOS / SERVICOS</h1>                
                   
                    <div class="row">
                        <div class="col-md-12" id="emissor">
                            <h2>DADOS EMISSOR</h2>
            
                            <p>Informe abaixo os dados de sua empresa.</p>
            
                            <div class="input-group">
                                <span class="input-group-addon"><strong>NOME</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="text" name="emissor_nome" id="emissor_nome" placeholder="Nome ou Razão Social" maxlength="50" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>TELEFONE</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="text" name="emissor_telefone" id="emissor_telefone" placeholder="Telefone com DDD" maxlength="15" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>E-MAIL</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="text" name="emissor_email" id="emissor_email" placeholder="Email" maxlength="80" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>WEB SITE</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="text" name="emissor_website" id="emissor_website" placeholder="Web Site" maxlength="80" required="">
                            </div>
            
                            <p class="input-group"><a class="btn btn-default" href="#" role="button">Detalhes do Emissor &raquo;</a></p>
                        </div>
                        <div class="col-md-12" id="cliente">
                            <h2>DADOS CLIENTE</h2>
                            <p>Informe os dados do cliente.</p>
            
                            <div class="input-group">
                                <span class="input-group-addon"><strong>NOME</strong></span>
                                <input autocomplete="off" class="form-control" type="text" name="cliente_nome" id="cliente_nome" placeholder="Razão Social" maxlength="50" required="">
                            </div>
            
                            <div class="input-group">
                                <span class="input-group-addon"><strong>ENDEREÇO</strong></span>
                                <input autocomplete="off" class="form-control" value="" type="text" name="cliente_endereco" id="cliente_endereco" placeholder="Endereço" maxlength="80" required="">
                            </div>
                            <div class="input-group">
            
                                <span class="input-group-addon"><strong>ESTADO</strong></span>
                                <select class="form-control" title="Estados Brasileiros" name="estados" id="estados">
                                        <option value="">ESCOLHA O ESTADO</option>
                                        <option codigo="AC" value="Acre">ACRE</option>
                                        <option codigo="AL" value="Alagoas">ALAGOAS</option>
                                        <option codigo="AM" value="Amazonas">AMAZONAS</option>
                                        <option codigo="AP" value="Amapá">AMAPÁ</option>
                                        <option codigo="BA" value="Bahia">BAHIA</option>
                                        <option codigo="CE" value="Ceará">CEARÁ</option>
                                        <option codigo="DF" value="Distrito Federal">DISTRITO FEDERAL</option>
                                        <option codigo="ES" value="Espírito Santo">ESPÍRITO SANTOS</option>
                                        <option codigo="GO" value="Goiás">GOIÁS</option>
                                        <option codigo="MA" value="Maranhão">MARANHÃO</option>
                                        <option codigo="MG" value="Minas Gerais">MINAS GERAIS</option>
                                        <option codigo="MS" value="Mato Grosso do Sul">MATO GROSSO DO SUL</option>
                                        <option codigo="MT" value="Mato Grosso">MATO GROSSO</option>
                                        <option codigo="PA" value="Pará">PARÁ</option>
                                        <option codigo="PB" value="Paraíba">PARAÍBA</option>
                                        <option codigo="PE" value="Pernambuco">PERNAMBUCO</option>
                                        <option codigo="PI" value="Piauí">PIAUÍ</option>
                                        <option codigo="PR" value="Paraná">PARANÁ</option>
                                        <option codigo="RJ" value="Rio de Janeiro">RIO DE JANEIRO</option>
                                        <option codigo="RN" value="Rio Grande do Norte">RIO GRANDE DO NORTE</option>
                                        <option codigo="RO" value="Rondônia">RONDÔNIA</option>
                                        <option codigo="RR" value="Roraima">RORAIMA</option>
                                        <option codigo="RS" value="Rio Grande do Sul">RIO GRANDE DO SUL</option>
                                        <option codigo="SC" value="Santa Catarina">SANTA CATARINA</option>
                                        <option codigo="SE" value="Sergipe">SERGIPE</option>
                                        <option codigo="SP" value="São Paulo">SÃO PAULO</option>
                                        <option codigo="TO" value="Tocantins">TOCANTINS</option>
                                </select>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>CIDADE</strong></span>
                                <select class="form-control" title="Cidades" name="cidades" id="cidades">
                                        <option value="">ESCOLHA A CIDADE</option>                 
                                    </select>
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>CEP</strong></span>
                                <input autocomplete="off" class="form-control CEP" type="text" name="cliente_cep" id="cliente_cep" placeholder="00000-000" maxlength="9" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>TELEFONE</strong></span>
                                <input autocomplete="on" class="form-control TELEFONE" type="text" name="cliente_telefone" id="cliente_telefone" placeholder="(11) 0000-0000" maxlength="15" required="">
                            </div>
            
                        </div>
                        <div class="col-md-12" id="orcamento">
                            <h2>DADOS ORCAMENTO</h2>
                            <p>Informe os dados do orçamento.</p>
            
                            <div class="input-group">
                                <span class="input-group-addon"><strong>NÚMERO</strong></span>
                                <input autocomplete="on" class="form-control" type="text" name="orcamento_numero" id="orcamento_numero" placeholder="NUMERO DO ORÇAMENTO" maxlength="10" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>DATA</strong></span>
                                <input autocomplete="off" required class="form-control" value="" type="date" name="orcamento_data" id="orcamento_data" placeholder="DATA" maxlength="16" required="">
            
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>VÁLIDO ATÉ</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="date" name="orcamento_valido_ate" id="orcamento_valido_ate" placeholder="VÁLIDO ATÉ" maxlength="16" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>GARANTIA</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="date" name="orcamento_garantia" id="orcamento_garantia" placeholder="GARANTIA" maxlength="16" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>FORMA DE PAGAMENTO</strong></span>
                                <input autocomplete="on" class="form-control" value="" type="text" name="orcamento_forma_pagamento" id="orcamento_forma_pagamento" placeholder="FORMA DE PAGAMENTO" maxlength="50" required="">
                            </div>
                            <div class="input-group">
                                <span class="input-group-addon"><strong>DESCRIÇÃO</strong></span>
                                <textarea class="form-control" value="" name="orcamento_descricao" id="orcamento_descricao" placeholder="DESCRIÇÃO" cols="4" rows="5"></textarea>
                            </div>
                        </div>
                    </div>
                    <Br>
                    <div id="itens-produtos"></div>
                    <br>
                    
                    <button class="btn btn-default" onclick="addProduto()">Adicionar produtos</button>
                    <button class="btn btn-danger" onclick="getLista()">GET LISTA Lista de Produtos</button>    
                    <button class="btn btn-warning" onclick="getLocalStorage()">Lista Salva</button> 
                    
                    <br><br>
                    <br><br>
            </div>            
        </div>
    </div>
</body>

<script type="module" src="./src/boostrap/app.js"></script>



<script>
    
    const app = import("./src/boostrap/app.js");
    const getLocalStorage = () => {
        data = JSON.parse(localStorage["produtos"])
        app.then(module => module.app.orcamento.produtos)        
        .then(prod => prod.getDatabase(data))
        
    }

    const addProduto = () => app.then(module => { module.app.orcamento.produtos.insert("","",0,0) });    
    const removerProduto = (id) => app.then (module =>  module.app.orcamento.produtos.remove(id) ); 
    
    const getLista = () => app.then(module => module.app.orcamento.produtos.values())       
     .then(produtos=>JSON.stringify(produtos))
     .then(data=>localStorage.setItem('produtos', data));

</script>

</html>